<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>アイコン生成ツール</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
      background: #1a1a2e;
      color: #fff;
    }
    .icon-container {
      display: flex;
      gap: 20px;
      margin-bottom: 20px;
    }
    .icon-box {
      text-align: center;
    }
    canvas {
      border: 1px solid #444;
      background: transparent;
    }
    button {
      margin-top: 10px;
      padding: 8px 16px;
      background: #e94560;
      color: #fff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    button:hover {
      background: #ff6b6b;
    }
    h1 { margin-bottom: 20px; }
    p { color: #888; margin-bottom: 20px; }
  </style>
</head>
<body>
  <h1>YouTube Time Limit - アイコン生成</h1>
  <p>下のボタンをクリックしてPNGアイコンをダウンロードし、iconsフォルダに保存してください。</p>

  <div class="icon-container">
    <div class="icon-box">
      <canvas id="canvas16" width="16" height="16"></canvas>
      <br>
      <button onclick="downloadIcon(16)">icon16.png</button>
    </div>
    <div class="icon-box">
      <canvas id="canvas48" width="48" height="48"></canvas>
      <br>
      <button onclick="downloadIcon(48)">icon48.png</button>
    </div>
    <div class="icon-box">
      <canvas id="canvas128" width="128" height="128"></canvas>
      <br>
      <button onclick="downloadIcon(128)">icon128.png</button>
    </div>
  </div>

  <button onclick="downloadAll()">すべてダウンロード</button>

  <script>
    function drawIcon(ctx, size) {
      const cx = size / 2;
      const cy = size / 2;
      const outerRadius = size * 0.45;
      const innerRadius = size * 0.38;

      // クリア
      ctx.clearRect(0, 0, size, size);

      // 外側の円（赤）
      ctx.beginPath();
      ctx.arc(cx, cy, outerRadius, 0, Math.PI * 2);
      ctx.fillStyle = '#e94560';
      ctx.fill();

      // 内側の円（紺）
      ctx.beginPath();
      ctx.arc(cx, cy, innerRadius, 0, Math.PI * 2);
      ctx.fillStyle = '#1a1a2e';
      ctx.fill();

      // 時針（12時方向）
      ctx.beginPath();
      ctx.moveTo(cx, cy);
      ctx.lineTo(cx, cy - innerRadius * 0.55);
      ctx.strokeStyle = '#ffffff';
      ctx.lineWidth = Math.max(1, size * 0.08);
      ctx.lineCap = 'round';
      ctx.stroke();

      // 分針（2時方向）
      ctx.beginPath();
      ctx.moveTo(cx, cy);
      const minAngle = -Math.PI / 6; // 2時の位置
      ctx.lineTo(cx + Math.sin(-minAngle) * innerRadius * 0.75, cy - Math.cos(-minAngle) * innerRadius * 0.75);
      ctx.strokeStyle = '#ffffff';
      ctx.lineWidth = Math.max(1, size * 0.05);
      ctx.lineCap = 'round';
      ctx.stroke();

      // 中心点
      ctx.beginPath();
      ctx.arc(cx, cy, Math.max(1, size * 0.06), 0, Math.PI * 2);
      ctx.fillStyle = '#e94560';
      ctx.fill();
    }

    function downloadIcon(size) {
      const canvas = document.getElementById('canvas' + size);
      const link = document.createElement('a');
      link.download = 'icon' + size + '.png';
      link.href = canvas.toDataURL('image/png');
      link.click();
    }

    function downloadAll() {
      [16, 48, 128].forEach((size, index) => {
        setTimeout(() => downloadIcon(size), index * 200);
      });
    }

    // 初期描画
    [16, 48, 128].forEach(size => {
      const canvas = document.getElementById('canvas' + size);
      const ctx = canvas.getContext('2d');
      drawIcon(ctx, size);
    });
  </script>
</body>
</html>
